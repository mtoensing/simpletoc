{"version":3,"file":"index.js","mappings":"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","sources":["webpack://simpletoc/./src/edit.js","webpack://simpletoc/./src/save.js","webpack://simpletoc/external window \"React\"","webpack://simpletoc/external window [\"wp\",\"blockEditor\"]","webpack://simpletoc/external window [\"wp\",\"blocks\"]","webpack://simpletoc/external window [\"wp\",\"components\"]","webpack://simpletoc/external window [\"wp\",\"data\"]","webpack://simpletoc/external window [\"wp\",\"element\"]","webpack://simpletoc/external window [\"wp\",\"i18n\"]","webpack://simpletoc/external window [\"wp\",\"serverSideRender\"]","webpack://simpletoc/webpack/bootstrap","webpack://simpletoc/webpack/runtime/compat get default export","webpack://simpletoc/webpack/runtime/define property getters","webpack://simpletoc/webpack/runtime/hasOwnProperty shorthand","webpack://simpletoc/webpack/runtime/make namespace object","webpack://simpletoc/./src/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { InspectorControls, BlockControls } from \"@wordpress/block-editor\";\nimport ServerSideRender from \"@wordpress/server-side-render\";\nimport {\n  SelectControl,\n  ToolbarGroup,\n  ToolbarButton,\n  ToggleControl,\n  Panel,\n  PanelBody,\n  PanelRow,\n} from \"@wordpress/components\";\nimport { useBlockProps } from \"@wordpress/block-editor\";\nimport { select, subscribe } from '@wordpress/data';\nimport {useEffect, useState} from 'react';\n\n\nexport default function Edit({ attributes, setAttributes }) {\n  const blockProps = useBlockProps();\n\n  /* Update SimpleTOC if the post is saved successfully.          */\n  /* Source: https://github.com/WordPress/gutenberg/issues/17632  */\n\n  const { isSavingPost } = select( 'core/editor' );\n  const [isSavingProcess, setSavingProcess] = useState(false);\n\n  subscribe(() => {\n      if (isSavingPost()) {\n          setSavingProcess(true);\n      } else {\n          setSavingProcess(false);\n      }\n  });\n  const updatePost = function () {\n      setAttributes({ updated: Date.now() });\n  };\n\n  useEffect(() => {\n      if (isSavingProcess) {\n          updatePost();\n      }\n  }, [isSavingProcess]);\n\n  return (\n    <div {...blockProps}>\n      <InspectorControls>\n        <Panel>\n          <PanelBody>\n          <PanelRow>\n              <SelectControl\n                label={__(\"Maximum level\", \"simpletoc\")}\n                help={__(\"Maximum depth of the headings.\", \"simpletoc\")}\n                value={attributes.max_level}\n                options={[\n                  {\n                    label:\n                      __(\"Including\", \"simpletoc\") +\n                      \" H6 (\" +\n                      __(\"default\", \"simpletoc\") +\n                      \")\",\n                    value: \"6\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H5\",\n                    value: \"5\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H4\",\n                    value: \"4\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H3\",\n                    value: \"3\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H2\",\n                    value: \"2\",\n                  },\n                ]}\n                onChange={(level) =>\n                  setAttributes({ max_level: Number(level) })\n                }\n              />\n              </PanelRow>\n              <PanelRow>\n              <SelectControl\n                label={__(\"Minimum level\", \"simpletoc\")}\n                help={__(\"Minimum depth of the headings.\", \"simpletoc\")}\n                value={attributes.min_level}\n                options={[\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H6\",\n                    value: \"6\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H5\",\n                    value: \"5\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H4\",\n                    value: \"4\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") + \" H3\",\n                    value: \"3\",\n                  },\n                  {\n                    label: __(\"Including\", \"simpletoc\") +\n                    \" H2 (\" +\n                    __(\"default\", \"simpletoc\") +\n                    \")\",\n                    value: \"2\",\n                  },\n                ]}\n                onChange={(level) =>\n                  setAttributes({ min_level: Number(level) })\n                }\n              />\n            </PanelRow>\n            <PanelRow>\n              <ToggleControl\n                label={__(\"Remove heading\", \"simpletoc\")}\n                help={__(\n                  'Disable the \"Table of contents\" block heading and add your own heading block.',\n                  \"simpletoc\"\n                )}\n                checked={attributes.no_title}\n                onChange={() =>\n                  setAttributes({ no_title: !attributes.no_title })\n                }\n              />\n            </PanelRow>\n            <PanelRow>\n              <ToggleControl\n                label={__(\"Use an ordered list\", \"simpletoc\")}\n                help={__(\n                  \"Replace the <ul> tag with an <ol> tag. This adds decimal numbers to each heading in the TOC.\",\n                  \"simpletoc\"\n                )}\n                checked={attributes.use_ol}\n                onChange={() => setAttributes({ use_ol: !attributes.use_ol })}\n              />\n            </PanelRow>\n            <PanelRow>\n              <ToggleControl\n                label={__(\"Remove list indent\", \"simpletoc\")}\n                help={__(\n                  \"No bullet points or numbers at the first level.\",\n                  \"simpletoc\"\n                )}\n                checked={attributes.remove_indent}\n                onChange={() => setAttributes({ remove_indent: !attributes.remove_indent })}\n              />\n            </PanelRow>\n            <PanelRow>\n              <ToggleControl\n                label={__(\"Use absolute urls\", \"simpletoc\")}\n                help={__(\n                  \"Adds the permalink url to the fragment.\",\n                  \"simpletoc\"\n                )}\n                checked={attributes.use_absolute_urls}\n                onChange={() =>\n                  setAttributes({\n                    use_absolute_urls: !attributes.use_absolute_urls,\n                  })\n                }\n              />\n            </PanelRow>\n            <PanelRow>\n              <ToggleControl\n                label={__(\"Smooth scrolling support\", \"simpletoc\")}\n                help={__(\n                  'Add the css class \"smooth-scroll\" to the links. This enables smooth scrolling in some themes like GeneratePress.',\n                  \"simpletoc\"\n                )}\n                checked={attributes.add_smooth}\n                onChange={() =>\n                  setAttributes({\n                    add_smooth: !attributes.add_smooth,\n                  })\n                }\n              />\n            </PanelRow>\n          </PanelBody>\n        </Panel>\n      </InspectorControls>\n      <BlockControls>\n        <ToolbarGroup>\n          <ToolbarButton\n            className=\"components-icon-button components-toolbar__control\"\n            label={__(\"Update table of contents\", \"simpletoc\")}\n            onClick={() => setAttributes({ updated: Date.now() })}\n            icon=\"update\"\n          />\n        </ToolbarGroup>\n      </BlockControls>\n      <ServerSideRender block=\"simpletoc/toc\" attributes={attributes} />\n    </div>\n  );\n}\n","\n\n/**\n * The save function defines the way in which the different attributes should\n * be combined into the final markup, which is then serialized by the block\n * editor into `post_content`.\n */\nexport default function save( { attributes } ) {\n\treturn null;\n}\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"serverSideRender\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport metadata from './block.json';\n\nconst simpletocicon = (\n\t<svg\n\t\tfill-rule=\"evenodd\"\n\t\tstroke-linejoin=\"round\"\n\t\tstroke-miterlimit=\"2\"\n\t\tviewBox=\"0 0 500 500\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t<path d=\"m365.983 78.248c2.72-32.415 29.921-57.908 63.029-57.908 34.91 0 63.253 28.342 63.253 63.252s-28.343 63.252-63.253 63.252v269.582c0 25.232-20.485 45.718-45.718 45.718h-313.62c-25.233 0-45.719-20.486-45.719-45.718v-292.46c0-25.233 20.486-45.718 45.719-45.718zm-245.943 324.857c-16.883 0-30.511-13.719-30.511-30.714 0-16.79 13.628-30.714 30.511-30.714 16.679 0 30.511 13.924 30.511 30.714 0 16.995-13.832 30.714-30.511 30.714zm50.851-40.952h183.063v20.476h-183.063zm-50.851-61.428c-16.883 0-30.511-13.719-30.511-30.714 0-16.79 13.628-30.714 30.511-30.714 16.679 0 30.511 13.924 30.511 30.714 0 16.995-13.832 30.714-30.511 30.714zm50.851-40.952h183.063v20.476h-183.063zm-50.851-61.428c-16.883 0-30.511-13.719-30.511-30.714 0-16.791 13.628-30.714 30.511-30.714 16.679 0 30.511 13.923 30.511 30.714 0 16.995-13.832 30.714-30.511 30.714zm50.851-40.952h183.063v20.476h-183.063zm253.007-44.649v-24.188h-24.008v-10.108h24.008v-24.008h10.229v24.008h24.008v10.108h-24.008v24.188z\" />\n\t</svg>\n);\n\n /**\n  * Internal dependencies\n  */\n  import Edit from './edit';\n  import save from './save';\n \n\nregisterBlockType(metadata, {\n\ticon: simpletocicon,\n\t/**\n\t * @see ./edit.js\n\t */\n\t edit: Edit,\n\n\t /**\n\t  * @see ./save.js\n\t  */\n\t save,\n });\n"],"names":["__","InspectorControls","BlockControls","ServerSideRender","SelectControl","ToolbarGroup","ToolbarButton","ToggleControl","Panel","PanelBody","PanelRow","useBlockProps","select","subscribe","useEffect","useState","Edit","attributes","setAttributes","blockProps","isSavingPost","isSavingProcess","setSavingProcess","updatePost","updated","Date","now","max_level","label","value","level","Number","min_level","no_title","use_ol","remove_indent","use_absolute_urls","add_smooth","save","registerBlockType","metadata","simpletocicon","icon","edit"],"sourceRoot":""}